{
  "version": "1.0.0",
  "name": "spl_stake_pool",
  "instructions": [
    {
      "name": "Initialize",
      "discriminant": {
        "type": "u8",
        "value": 0
      },
      "args": [
        {
          "name": "fee",
          "type": {
            "defined": "Fee"
          }
        },
        {
          "name": "withdrawalFee",
          "type": {
            "defined": "Fee"
          }
        },
        {
          "name": "depositFee",
          "type": {
            "defined": "Fee"
          }
        },
        {
          "name": "referralFee",
          "type": "u8"
        },
        {
          "name": "maxValidators",
          "type": "u32"
        }
      ],
      "accounts": [
        {
          "name": "stakePool",
          "isMut": true,
          "isSigner": false,
          "desc": "New StakePool to create"
        },
        {
          "name": "manager",
          "isMut": false,
          "isSigner": true,
          "desc": "Manager"
        },
        {
          "name": "staker",
          "isMut": false,
          "isSigner": false,
          "desc": "Staker"
        },
        {
          "name": "withdrawAuthority",
          "isMut": false,
          "isSigner": false,
          "desc": "Stake pool withdraw authority"
        },
        {
          "name": "validatorList",
          "isMut": true,
          "isSigner": false,
          "desc": "Uninitialized validator stake list storage account"
        },
        {
          "name": "reserveStake",
          "isMut": false,
          "isSigner": false,
          "desc": "Reserve stake account must be initialized, have zero balance, and staker / withdrawer authority set to pool withdraw authority"
        },
        {
          "name": "poolTokenMint",
          "isMut": false,
          "isSigner": false,
          "desc": "Pool token mint. Must have zero supply, owned by withdraw authority."
        },
        {
          "name": "managerFeeAccount",
          "isMut": false,
          "isSigner": false,
          "desc": "Pool account to deposit the generated fee for manager."
        },
        {
          "name": "tokenProgramId",
          "isMut": false,
          "isSigner": false,
          "desc": "Token program id. Optional deposit authority account follows. If omitted, anyone can deposit into the pool."
        }
      ]
    }
  ],
  "accounts": [
    {
      "name": "StakePool",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "accountType",
            "type": {
              "defined": "AccountType"
            }
          },
          {
            "name": "manager",
            "type": "publicKey"
          },
          {
            "name": "staker",
            "type": "publicKey"
          },
          {
            "name": "stakeDepositAuthority",
            "type": "publicKey"
          },
          {
            "name": "stakeWithdrawBumpSeed",
            "type": "u8"
          },
          {
            "name": "validatorList",
            "type": "publicKey"
          },
          {
            "name": "reserveStake",
            "type": "publicKey"
          },
          {
            "name": "poolMint",
            "type": "publicKey"
          },
          {
            "name": "managerFeeAccount",
            "type": "publicKey"
          },
          {
            "name": "tokenProgramId",
            "type": "publicKey"
          },
          {
            "name": "totalLamports",
            "type": "u64"
          },
          {
            "name": "poolTokenSupply",
            "type": "u64"
          },
          {
            "name": "lastUpdateEpoch",
            "type": "u64"
          },
          {
            "name": "lockup",
            "type": {
              "defined": "Lockup"
            }
          },
          {
            "name": "epochFee",
            "type": {
              "defined": "Fee"
            }
          },
          {
            "name": "nextEpochFee",
            "type": {
              "defined": "FutureEpochFee"
            }
          },
          {
            "name": "preferredDepositValidatorVoteAddress",
            "type": {
              "option": "publicKey"
            }
          },
          {
            "name": "preferredWithdrawValidatorVoteAddress",
            "type": {
              "option": "publicKey"
            }
          },
          {
            "name": "stakeDepositFee",
            "type": {
              "defined": "Fee"
            }
          },
          {
            "name": "stakeWithdrawalFee",
            "type": {
              "defined": "Fee"
            }
          },
          {
            "name": "nextStakeWithdrawalFee",
            "type": {
              "defined": "FutureEpochFee"
            }
          },
          {
            "name": "stakeReferralFee",
            "type": "u8"
          },
          {
            "name": "solDepositAuthority",
            "type": {
              "option": "publicKey"
            }
          },
          {
            "name": "solDepositFee",
            "type": {
              "defined": "Fee"
            }
          },
          {
            "name": "solReferralFee",
            "type": "u8"
          },
          {
            "name": "solWithdrawAuthority",
            "type": {
              "option": "publicKey"
            }
          },
          {
            "name": "solWithdrawalFee",
            "type": {
              "defined": "Fee"
            }
          },
          {
            "name": "nextSolWithdrawalFee",
            "type": {
              "defined": "FutureEpochFee"
            }
          },
          {
            "name": "lastEpochPoolTokenSupply",
            "type": "u64"
          },
          {
            "name": "lastEpochTotalLamports",
            "type": "u64"
          }
        ]
      }
    },
    {
      "name": "ValidatorList",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "header",
            "type": {
              "defined": "ValidatorListHeader"
            }
          },
          {
            "name": "validators",
            "type": {
              "vec": {
                "defined": "ValidatorStakeInfo"
              }
            }
          }
        ]
      }
    }
  ],
  "types": [
    {
      "name": "AccountType",
      "type": {
        "kind": "enum",
        "variants": [
          {
            "name": "Uninitialized"
          },
          {
            "name": "StakePool"
          },
          {
            "name": "ValidatorList"
          }
        ]
      }
    },
    {
      "name": "Lockup",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "unixTimestamp",
            "type": "i64"
          },
          {
            "name": "epoch",
            "type": "u64"
          },
          {
            "name": "custodian",
            "type": "publicKey"
          }
        ]
      }
    },
    {
      "name": "Fee",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "denominator",
            "type": "u64"
          },
          {
            "name": "numerator",
            "type": "u64"
          }
        ]
      }
    },
    {
      "name": "FutureEpochFee",
      "type": {
        "kind": "enum",
        "variants": [
          {
            "name": "None"
          },
          {
            "name": "One",
            "fields": [
              {
                "name": "fee",
                "type": {
                  "defined": "Fee"
                }
              }
            ]
          },
          {
            "name": "Two",
            "fields": [
              {
                "name": "fee",
                "type": {
                  "defined": "Fee"
                }
              }
            ]
          }
        ]
      }
    },
    {
      "name": "StakeStatus",
      "type": {
        "kind": "enum",
        "variants": [
          {
            "name": "Active"
          },
          {
            "name": "DeactivatingTransient"
          },
          {
            "name": "ReadyForRemoval"
          },
          {
            "name": "DeactivatingValidator"
          },
          {
            "name": "DeactivatingAll"
          }
        ]
      }
    },
    {
      "name": "ValidatorListHeader",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "accountType",
            "type": {
              "defined": "AccountType"
            }
          },
          {
            "name": "maxValidators",
            "type": "u32"
          }
        ]
      }
    },
    {
      "name": "ValidatorStakeInfo",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "activeStakeLamports",
            "type": "u64"
          },
          {
            "name": "transientStakeLamports",
            "type": "u64"
          },
          {
            "name": "lastUpdateEpoch",
            "type": "u64"
          },
          {
            "name": "transientSeedSuffix",
            "type": "u64"
          },
          {
            "name": "unused",
            "type": "u32"
          },
          {
            "name": "validatorSeedSuffix",
            "type": "u32"
          },
          {
            "name": "status",
            "type": {
              "defined": "StakeStatus"
            }
          },
          {
            "name": "voteAccountAddress",
            "type": "publicKey"
          }
        ]
      }
    }
  ],
  "metadata": {
    "origin": "shank",
    "address": "SPoo1Ku8WFXoNDMHPsrGSTSG1Y47rzgn41SLUNakuHy"
  }
}
